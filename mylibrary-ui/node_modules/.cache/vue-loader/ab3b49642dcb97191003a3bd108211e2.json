{"remainingRequest":"/Users/weizhang/JAVASHOP/mylibrary-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/weizhang/JAVASHOP/mylibrary-ui/src/module/home/components/book/bookDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/weizhang/JAVASHOP/mylibrary-ui/src/module/home/components/book/bookDetail.vue","mtime":1579744939275},{"path":"/Users/weizhang/JAVASHOP/mylibrary-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weizhang/JAVASHOP/mylibrary-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/weizhang/JAVASHOP/mylibrary-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weizhang/JAVASHOP/mylibrary-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'BookDetail',\n  props: {\n    currentBook: {\n      type: Object\n    },\n    condition: {\n      type: Object\n    }\n  },\n  data: function() {\n    return {\n      readonly: true,\n      book: {},\n      tag: []\n    }\n  },\n  watch: {\n    // readonly: function(nl, ol) {\n    // \tif (nl) {debugger\n    // \t\tconsole.log(\"[bookDetail] has changed the vue,and emit the change event\")\n    // \t\tthis.$root.$children[0].saveCurrentBook(this.book);\n    // \t}\n    // },\n    current_book: function() {\n      this.book = Object.assign({}, this.current_book)\n    },\n    tag: function() {\n      this.book.tag = this.tag.join('/')\n    }\n\n  },\n  mounted: function() {\n    this.initBook()\n  },\n  methods: {\n    initBook: function() {\n      var _this = this\n      this.book = Object.assign({}, this.current_book)\n      this.tag = []\n      if (this.book.tag && this.book.tag.length > 0) {\n        if (this.book.tag.indexOf('/') < 0) {\n          this.tag.push(this.book.tag)\n        } else {\n          var a = this.book.tag.split('/')\n          a.forEach(function(v, i) {\n            _this.tag.push(v)\n          })\n        }\n      }\n    },\n    toggleEdit: function() {\n      this.activeEdit(this.readonly)\n    },\n    activeEdit: function(flag) {\n      this.readonly = !flag\n      if (this.readonly) {\n        console.log('[bookDetail] has changed the vue,and emit the change event')\n        debugger\n        this.$root.$children[0].$children[0].saveCurrentBook(this.book)\n      }\n    }\n  }\n}\n",null]}